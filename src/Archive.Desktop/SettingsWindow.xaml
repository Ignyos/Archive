<Window x:Class="Archive.Desktop.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Settings"
        Height="640"
        Width="560"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Loaded="Window_OnLoaded">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <TextBlock Text="Settings"
                   FontSize="20"
                   FontWeight="SemiBold" />

        <ScrollViewer Grid.Row="1" Margin="0,12,0,0" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <GroupBox Header="General">
                    <StackPanel Margin="8">
                        <CheckBox x:Name="RunOnStartupCheckBox"
                                  Content="Run Archive when Windows starts"
                                  Checked="SettingControl_OnChanged"
                                  Unchecked="SettingControl_OnChanged" />
                        <TextBlock Margin="0,6,0,0"
                                   Opacity="0.8"
                                   Text="When enabled, Archive starts automatically in the system tray when you log in to Windows."
                                   TextWrapping="Wrap" />
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Notifications" Margin="0,12,0,0">
                    <StackPanel Margin="8">
                        <CheckBox x:Name="EnableNotificationsCheckBox"
                                  Content="Enable notifications"
                                  Checked="SettingControl_OnChanged"
                                  Unchecked="SettingControl_OnChanged" />
                        <TextBlock Margin="0,4,0,0"
                                   Opacity="0.8"
                                   Text="Show Windows toast notifications for job events."
                                   TextWrapping="Wrap" />

                        <CheckBox x:Name="NotifyOnStartCheckBox"
                                  Margin="0,10,0,0"
                                  Content="Notify when job starts"
                                  Checked="SettingControl_OnChanged"
                                  Unchecked="SettingControl_OnChanged" />

                        <CheckBox x:Name="NotifyOnCompleteCheckBox"
                                  Margin="0,6,0,0"
                                  Content="Notify when job completes"
                                  Checked="SettingControl_OnChanged"
                                  Unchecked="SettingControl_OnChanged" />

                        <CheckBox x:Name="NotifyOnFailCheckBox"
                                  Margin="0,6,0,0"
                                  Content="Notify when job fails"
                                  Checked="SettingControl_OnChanged"
                                  Unchecked="SettingControl_OnChanged" />

                        <CheckBox x:Name="PlaySoundCheckBox"
                                  Margin="0,6,0,0"
                                  Content="Play notification sound"
                                  Checked="SettingControl_OnChanged"
                                  Unchecked="SettingControl_OnChanged" />
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Advanced" Margin="0,12,0,0">
                    <StackPanel Margin="8">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock VerticalAlignment="Center" Text="Keep logs for" />
                            <TextBox x:Name="LogRetentionValueTextBox"
                                     Width="56"
                                     Margin="8,0,8,0"
                                     TextChanged="SettingControl_OnChanged" />
                            <ComboBox x:Name="LogRetentionUnitComboBox"
                                      Width="100"
                                      SelectionChanged="SettingControl_OnChanged" />
                        </StackPanel>
                        <TextBlock Margin="0,6,0,0"
                                   Opacity="0.8"
                                   Text="Execution logs older than this period will be automatically deleted. Enter 0 to keep logs forever."
                                   TextWrapping="Wrap" />

                        <CheckBox x:Name="EnableVerboseLoggingCheckBox"
                                  Margin="0,10,0,0"
                                  Content="Enable verbose logging"
                                  Checked="SettingControl_OnChanged"
                                  Unchecked="SettingControl_OnChanged" />
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="2"
                    Margin="0,16,0,0"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right">
            <Button Content="Close"
                    Width="88"
                    Click="CloseButton_OnClick" />
        </StackPanel>
    </Grid>
</Window>
