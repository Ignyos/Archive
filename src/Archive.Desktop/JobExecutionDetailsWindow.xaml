<Window x:Class="Archive.Desktop.JobExecutionDetailsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Execution Details"
        Icon="Assets/icon.ico"
        Height="700"
        Width="980"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <TextBlock x:Name="HeaderTextBlock"
                   FontSize="20"
                   FontWeight="SemiBold"
                   Text="Execution Details" />

        <TextBlock Grid.Row="1"
                   Margin="0,8,0,0"
                   x:Name="SummaryTextBlock"
                   TextWrapping="Wrap" />

        <TextBlock Grid.Row="2"
                   Margin="0,8,0,0"
                   x:Name="CountersTextBlock"
                   TextWrapping="Wrap" />

        <ScrollViewer Grid.Row="3" Margin="0,12,0,0" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <Expander x:Name="CopyExpander" Header="Copy" IsExpanded="False">
                    <DataGrid x:Name="CopyLogsDataGrid" AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False" MaxHeight="140">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Time" Binding="{Binding TimestampLocal}" Width="140" />
                            <DataGridTextColumn Header="File" Binding="{Binding FilePath}" Width="300" />
                            <DataGridTextColumn Header="Message" Binding="{Binding Message}" Width="*" />
                        </DataGrid.Columns>
                    </DataGrid>
                </Expander>

                <Expander x:Name="UpdateExpander" Header="Update" Margin="0,8,0,0" IsExpanded="False">
                    <DataGrid x:Name="UpdateLogsDataGrid" AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False" MaxHeight="140">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Time" Binding="{Binding TimestampLocal}" Width="140" />
                            <DataGridTextColumn Header="File" Binding="{Binding FilePath}" Width="300" />
                            <DataGridTextColumn Header="Message" Binding="{Binding Message}" Width="*" />
                        </DataGrid.Columns>
                    </DataGrid>
                </Expander>

                <Expander x:Name="DeleteExpander" Header="Delete" Margin="0,8,0,0" IsExpanded="False">
                    <DataGrid x:Name="DeleteLogsDataGrid" AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False" MaxHeight="140">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Time" Binding="{Binding TimestampLocal}" Width="140" />
                            <DataGridTextColumn Header="File" Binding="{Binding FilePath}" Width="300" />
                            <DataGridTextColumn Header="Message" Binding="{Binding Message}" Width="*" />
                        </DataGrid.Columns>
                    </DataGrid>
                </Expander>

                <Expander x:Name="SkippedExpander" Header="Skipped" Margin="0,8,0,0" IsExpanded="False">
                    <DataGrid x:Name="SkippedLogsDataGrid" AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False" MaxHeight="140">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Time" Binding="{Binding TimestampLocal}" Width="140" />
                            <DataGridTextColumn Header="File" Binding="{Binding FilePath}" Width="300" />
                            <DataGridTextColumn Header="Message" Binding="{Binding Message}" Width="*" />
                        </DataGrid.Columns>
                    </DataGrid>
                </Expander>

                <Expander x:Name="FailedExpander" Header="Failed" Margin="0,8,0,0" IsExpanded="True">
                    <Grid>
                        <TextBlock x:Name="NoFailedTextBlock"
                                   Margin="8"
                                   Text="No failed operations were recorded for this execution."
                                   TextWrapping="Wrap"
                                   Visibility="Collapsed" />
                        <DataGrid x:Name="FailedLogsDataGrid" AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False" MaxHeight="180">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Time" Binding="{Binding TimestampLocal}" Width="140" />
                                <DataGridTextColumn Header="Level" Binding="{Binding Level}" Width="90" />
                                <DataGridTextColumn Header="File" Binding="{Binding FilePath}" Width="280" />
                                <DataGridTextColumn Header="Message" Binding="{Binding Message}" Width="*" />
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </Expander>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="4"
                    Margin="0,16,0,0"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right">
            <Button Content="Close"
                    Width="88"
                    Click="CloseButton_OnClick" />
        </StackPanel>
    </Grid>
</Window>
